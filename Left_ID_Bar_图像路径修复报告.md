# Left ID Bar å›¾åƒè·¯å¾„ä¿®å¤æŠ¥å‘Š

## ğŸ¯ ä¿®å¤å†…å®¹

æ ¹æ®æ‚¨çš„è¦æ±‚ï¼Œå·²å°† `left_id_bar.gd` ä¸­çš„æ‰€æœ‰å›¾åƒè·¯å¾„è·å–é€»è¾‘ä¿®æ­£ä¸ºæ ‡å‡†åŒ–æ ¼å¼ã€‚

## ğŸ“ æ–°çš„å›¾åƒç›®å½•è§„èŒƒ

### 1. é€‰æ‰‹å¤´åƒ
**è·¯å¾„**: `{exeç›®å½•}/userdata/players/player_icons/{é€‰æ‰‹åå­—}.jpg`
- **ç¤ºä¾‹**: `C:\Users\duck1\Desktop\æ¼”æ’­å®¤2\userdata\players\player_icons\å°æ˜.jpg`
- **å‘½åè§„åˆ™**: ä½¿ç”¨é€‰æ‰‹çš„ `name` å­—æ®µï¼Œä¸æ˜¯ `id` å­—æ®µ
- **æ–‡ä»¶æ ¼å¼**: `.jpg`

### 2. é˜Ÿä¼å¤´åƒ
**è·¯å¾„**: `{exeç›®å½•}/userdata/teams/team_icons/{é˜Ÿä¼ID}.jpg`
- **ç¤ºä¾‹**: `C:\Users\duck1\Desktop\æ¼”æ’­å®¤2\userdata\teams\team_icons\team_001.jpg`
- **å‘½åè§„åˆ™**: ä½¿ç”¨é˜Ÿä¼çš„ `team_id` å­—æ®µ
- **æ–‡ä»¶æ ¼å¼**: `.jpg`

### 3. å¹²å‘˜å¤´åƒ
**è·¯å¾„**: `{exeç›®å½•}/data/operators/{æ˜Ÿçº§}/å¤´åƒ_{å¹²å‘˜å}.png`
- **ç¤ºä¾‹**: `C:\Users\duck1\Desktop\æ¼”æ’­å®¤2\data\operators\6\å¤´åƒ_é“¶ç°.png`
- **å‘½åè§„åˆ™**: æ˜Ÿçº§ç›®å½• + "å¤´åƒ_" + å¹²å‘˜å
- **æ–‡ä»¶æ ¼å¼**: `.png`
- **æ˜Ÿçº§æŸ¥æ‰¾**: è‡ªåŠ¨ä»å¯¹åº”çš„ `{æ˜Ÿçº§}_star_namelist.json` æ–‡ä»¶ä¸­æŸ¥æ‰¾å¹²å‘˜æ˜Ÿçº§

### 4. åˆ†é˜Ÿå›¾æ ‡
**è·¯å¾„**: `{exeç›®å½•}/data/squads/{åˆ†é˜Ÿå}.png`
- **ç¤ºä¾‹**: `C:\Users\duck1\Desktop\æ¼”æ’­å®¤2\data\squads\è¿‘å«.png`
- **å‘½åè§„åˆ™**: ç›´æ¥ä½¿ç”¨åˆ†é˜Ÿåç§°
- **æ–‡ä»¶æ ¼å¼**: `.png`

## âœ… å·²åˆ›å»ºçš„ç›®å½•ç»“æ„

```
C:\Users\duck1\Desktop\æ¼”æ’­å®¤2\
â”œâ”€â”€ userdata\
â”‚   â”œâ”€â”€ players\
â”‚   â”‚   â””â”€â”€ player_icons\          â† é€‰æ‰‹å¤´åƒç›®å½•
â”‚   â””â”€â”€ teams\
â”‚       â””â”€â”€ team_icons\            â† é˜Ÿä¼å¤´åƒç›®å½•
â””â”€â”€ data\
    â”œâ”€â”€ operators\                 â† å¹²å‘˜å¤´åƒç›®å½•
    â”‚   â”œâ”€â”€ 3\                     â† 3æ˜Ÿå¹²å‘˜
    â”‚   â”‚   â””â”€â”€ 3_star_namelist.json
    â”‚   â”œâ”€â”€ 4\                     â† 4æ˜Ÿå¹²å‘˜
    â”‚   â”œâ”€â”€ 5\                     â† 5æ˜Ÿå¹²å‘˜
    â”‚   â”‚   â””â”€â”€ 5_star_namelist.json
    â”‚   â””â”€â”€ 6\                     â† 6æ˜Ÿå¹²å‘˜
    â”‚       â””â”€â”€ 6_star_namelist.json
    â””â”€â”€ squads\                    â† åˆ†é˜Ÿå›¾æ ‡ç›®å½•
```

## ğŸ”§ ä¸»è¦ä»£ç å˜æ›´

### é€‰æ‰‹å¤´åƒåŠ è½½
```gdscript
# ä¿®æ”¹å‰ï¼šä» current_player_data çš„ icon_path å­—æ®µè¯»å–
var player_icon_path = current_player_data.get("icon_path", "")

# ä¿®æ”¹åï¼šæ ¹æ®é€‰æ‰‹åå­—æ„å»ºè·¯å¾„
var player_icon_path = AppData.get_exe_dir() + "/userdata/players/player_icons/" + player_name_str + ".jpg"
```

### é˜Ÿä¼å¤´åƒåŠ è½½
```gdscript
# ä¿®æ”¹å‰ï¼šè°ƒç”¨ _get_team_icon_path() ä» teams.json è¯»å–
var team_icon_path = _get_team_icon_path(team_name)

# ä¿®æ”¹åï¼šæ ¹æ®é˜Ÿä¼IDç›´æ¥æ„å»ºè·¯å¾„
var team_icon_path = AppData.get_exe_dir() + "/userdata/teams/team_icons/" + team_id_str + ".jpg"
```

### å¹²å‘˜å¤´åƒåŠ è½½
```gdscript
# ä¿®æ”¹å‰ï¼šä½¿ç”¨ user:// è·¯å¾„
var path = "user://data/operators/" + str(star) + "/å¤´åƒ_" + op_name + ".png"

# ä¿®æ”¹åï¼šä½¿ç”¨ AppData.get_exe_dir() è·¯å¾„
var path = AppData.get_exe_dir() + "/data/operators/" + str(star) + "/å¤´åƒ_" + op_name + ".png"
```

### åˆ†é˜Ÿå›¾æ ‡åŠ è½½
```gdscript
# ä¿®æ”¹å‰ï¼šè°ƒç”¨ _get_squad_icon_path()ï¼Œä½¿ç”¨ user:// è·¯å¾„
var squad_icon_path = _get_squad_icon_path(squad_choice)

# ä¿®æ”¹åï¼šç›´æ¥æ„å»ºè·¯å¾„
var squad_icon_path = AppData.get_exe_dir() + "/data/squads/" + squad_choice + ".png"
```

## ğŸ§ª æµ‹è¯•å‡†å¤‡

å·²åˆ›å»ºç¤ºä¾‹çš„å¹²å‘˜æ˜Ÿçº§åå•æ–‡ä»¶ï¼š
- `3_star_namelist.json`: åŒ…å«é˜¿ç±³å¨…ã€æœæ—ç­‰3æ˜Ÿå¹²å‘˜
- `5_star_namelist.json`: åŒ…å«å¾·å…‹è¨æ–¯ã€èƒ½å¤©ä½¿ç­‰5æ˜Ÿå¹²å‘˜  
- `6_star_namelist.json`: åŒ…å«é“¶ç°ã€é—ªçµç­‰6æ˜Ÿå¹²å‘˜

## ğŸ“‹ ä½¿ç”¨è¯´æ˜

1. **é€‰æ‰‹å¤´åƒ**: å°†é€‰æ‰‹çš„å¤´åƒæ–‡ä»¶ä»¥ `{é€‰æ‰‹åå­—}.jpg` æ ¼å¼æ”¾å…¥ `userdata/players/player_icons/` ç›®å½•
2. **é˜Ÿä¼å¤´åƒ**: å°†é˜Ÿä¼çš„å¤´åƒæ–‡ä»¶ä»¥ `{é˜Ÿä¼ID}.jpg` æ ¼å¼æ”¾å…¥ `userdata/teams/team_icons/` ç›®å½•
3. **å¹²å‘˜å¤´åƒ**: å°†å¹²å‘˜å¤´åƒæ–‡ä»¶ä»¥ `å¤´åƒ_{å¹²å‘˜å}.png` æ ¼å¼æ”¾å…¥å¯¹åº”æ˜Ÿçº§çš„ `data/operators/{æ˜Ÿçº§}/` ç›®å½•
4. **åˆ†é˜Ÿå›¾æ ‡**: å°†åˆ†é˜Ÿå›¾æ ‡æ–‡ä»¶ä»¥ `{åˆ†é˜Ÿå}.png` æ ¼å¼æ”¾å…¥ `data/squads/` ç›®å½•

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ–‡ä»¶å‘½åä¸¥æ ¼åŒ¹é…**: ç¡®ä¿æ–‡ä»¶åä¸æ•°æ®ä¸­çš„åç§°å®Œå…¨ä¸€è‡´ï¼ˆåŒ…æ‹¬ä¸­æ–‡å­—ç¬¦ï¼‰
2. **æ–‡ä»¶æ ¼å¼**: é€‰æ‰‹å’Œé˜Ÿä¼å¤´åƒä½¿ç”¨ `.jpg`ï¼Œå¹²å‘˜å’Œåˆ†é˜Ÿå›¾æ ‡ä½¿ç”¨ `.png`
3. **å¹²å‘˜æ˜Ÿçº§**: ç³»ç»Ÿä¼šè‡ªåŠ¨ä»æ˜Ÿçº§åå•æ–‡ä»¶ä¸­æŸ¥æ‰¾å¹²å‘˜å¯¹åº”çš„æ˜Ÿçº§
4. **è·¯å¾„ä¸€è‡´æ€§**: æ‰€æœ‰è·¯å¾„éƒ½åŸºäº `AppData.get_exe_dir()` æ„å»ºï¼Œç¡®ä¿è·¨å¹³å°å…¼å®¹æ€§

---

**ä¿®å¤å®Œæˆæ—¶é—´**: 2025å¹´7æœˆ6æ—¥  
**ä¿®å¤çŠ¶æ€**: âœ… å®Œæˆï¼Œæ— è¯­æ³•é”™è¯¯  
**æµ‹è¯•å‡†å¤‡**: âœ… ç›®å½•ç»“æ„å’Œç¤ºä¾‹æ–‡ä»¶å·²åˆ›å»º
